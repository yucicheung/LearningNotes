# 过滤数据

## 摘要
- 如何用`SELECT`语句的`WHERE`子句过滤返回的数据;
- 如何检验相等、不等、大于、小于、值的范围和NULL值等。

## 使用WHERE子句
- WHERE执行*行级过滤*，用该子句只检索所需数据需要指定*搜索条件*
  - *搜索条件(search criteria)*，也叫*过滤条件(filter condition)*。
- 提示：有多少个0？
  - 对于不同DBMS在小数后面出现0的个数不同,往往是因为DBMS指定了所使用的数据类型及其默认行为，数学角度上，几个0都是一样的。
- 提示：SQL过滤与应用过滤
  - 数据可以用SQL过滤，也可以在应用层过滤，由客户端进行数据处理,**这种方法通常极为不妥**;
	- 客户端应用(或开发语言)处理数据库的工作将会极大的影响应用的性能，并且所创建的应用完全不具备可伸缩性。
	- 由于要向客户端发送多余数据，因此还会浪费网络带宽。
- `WHERE`子句的位置：
  - `ORDER BY`应该总是放在最后。
## `WHERE`子句操作符
- SQL支持的WHERE子句操作符(条件操作符)。

| 操作符 | 说明 | 操作符 | 说明|
| --- | --- | --- | --- |
| `=` | 等于 | `!=``<>` | 不等于 |
| `<` | 小于 | `	>` | 大于 |
| `<=`/`!>` | 小于等于/不大于 | `>=`/`!<` | 大于等于/不小于 |
| `BETWEEN` `AND`| 在指定的两个值之间 | IS NULL | 检测为NULL值 |

- 注意：操作符兼容
  - 虽然上述有操作符是冗余的(实现相同功能)，但并非所有DBMS都支持这些操作符，所以要参考相应文档来确定可以使用哪些操作符。

### 检查单个值
- 提示：何时使用引号
  - 单引号用来限定字符串,MySQL中还可以使用双引号;
  - 如果将值与字符串类型的列进行比较，就需要限定引号，用来与数值列进行比较的值不用引号。
### 不匹配检查
- 注意：是`<>`还是`!=`
  - 两者通常可以互换，但并非所有的DBMS都支持两种操作符;
  - Microsoft Access不支持`!=`，但是MySQL两种都支持。
### 范围值检查
- `BETWEEN`:用于检查某个范围的值
  - `BETWEEN`操作符需要两个值，即范围的开始和结束，两个值用`AND`关键字分隔。
  - `BETWEEN`匹配的范围包括指定的开始值和结束值。
### 空值检查
- IS NULL：空值检查
  - 在创建表时，表设计人员可以指定其中的列能否不包含值;
  - 当一个列不包含值时，称其包含空值NULL;
  - NULL，无值(no value)，它与字段包含0、空字符串或仅仅包含空格不同;
  - 检查空值不能用`=`而应该用`IS`。
- 提示：各DBMS特有的操作符
  - 许多DBMS扩展了标准的操作符集，提供了更高级的过滤选择;
  - 各DBMS的操作符应该总是参考相应DBMS文档。
- 注意：NULL和非匹配
  - 通过过滤选择*不包含指定值*的所有行时，你可能希望返回含NULL值的行,但是这做不到;
  - 未知(unknow)有特殊含义，数据库不知道是否匹配(所以检查NULL时用`IS NULL`而不是`=`)，所以在进行匹配或不匹配过滤时，数据库不返回这些结果;
  - 过滤数据时，如果需要返回含NULL的行，一定要验证被过滤列中含NULL的行确实出现在返回的数据中。


