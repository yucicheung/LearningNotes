# 数组
- 数组(array)，是一组用一个统一名字代表一批有相同属性的数据，用下标来区分各数据。
- 每个数组元素由数组名+下标唯一确定。
- 数组在内存中占用一片连续的存储单元。
- C++用方括号表示下标。
## 一维数组
### 定义和引用
- 定义一维数组
```c++
//类型名 数组名[常量表达式];
/定义一个长度为10的整型数组
int a[10];
```
- 说明
  - 数组名命名规则和常量名一样
  - 常量表达式值是数组长度，表示元素个数，下标0开始
  - **不允许对数组长度做动态定义**
- 引用一维数组
  - **`g++`中超出维度的引用不报错，但是值是错乱的。**
  - `数组名[下标]`，只能引用单个元素。
### 初始化
- 初始化方法
  1. 在定义数组时对全部数组元素赋予初值
  2. 只给一部分元素赋值
  3. 在对全部元素赋初值时，可以不指定数组长度
```c++
//方法1：对全部元素赋值
int a[10]={0,1,2,3,4,5,6,7,8,9};
//方法2：对部分元素赋值
int a[10]={0,1,2,3,4};
//方法3:不指定数组长度对全部元素赋值，会自动定义数组长度
int a[]={0,1,2,3,4};
```
## 二维数组
- 具有两个下标的数组是二维数组;
### 定义和引用
- 定义二维数组
  - C++对二维数组的定义方式`[][]`，使我们可以把二维数组看成是每个元素都是一个一维数组的一维数组;
  - C++这种处理方法在数组初始化和使用指针表示时会非常方便;
```c++
//类型名 数组名 [常量表达式][常量表达式]
//如
float a[3][4],b[5][10];
```
  - C++中，二维数组中元素排列的顺序是：**按行存放**。即在内存中先顺序存放第一行，然后是第二行;
  - C++允许使用多维数组，其中第1维的下标变化最慢，最右边的下标变化最快。由此也可以推出存放顺序。
- 引用二维数组
  - `数组名 [下标][下标]`，下标可以是整型表达式;
  - 数组元素可以被引用也可以被赋值。
  - 注意下标值要在已经定义的数组大小范围内。
### 初始化
- 初始化方法
  1. 按行给二维数组全部元素赋值(因为是按行存储)
  2. 可以将所有数据写在一个花括号内，按数组排列的顺序对全部元素赋初值
  3. 可以对部分元素赋初值，**其他元素自动赋值0**，适用于非0元素比较少的情况，只需输入少量数据。
  4. 如果对全部元素全都赋初值(即提供全部初始数据)，则定义数组时对**第1维长度可以不指定，但第2维长度不能省略**。编译系统自动根据总个数确定行数，分配存储空间。
```c++
//方法1
int a[3][4]={{1,2,3,4},{5,6,7,8},{9,10,11,12}};
//方法2
int a[3][4]={1,2,3,4,5,6,7,8,9,10,11,12};
//方法3
int a[3][4]={{1},{5},{9}}//此时各行的首元素被赋值，其他元素赋0
//方法4
int a[][4]={1,2,3,4,5,6,7,8,9,10,11,12};
```
## 数组做函数参数
- 数组元素作为函数实参;
  - 数组元素可以视作一个变量，自然可以作为实参传递，将值传给形参。
- 数组名做函数参数
  - 数组名做函数参数时，此时实参和形参都用*数组名/指针变量*，传递的值是数组的起始地址。
  - 参考例子，数组名不能和变量名相同，否则发生冲突。
  - **通过数组地址对数组进行操作时，是对真实数组直接进行操作**，因此不需要返回数组。
```c++
//数组名做形参
void selectionSort(int a[],int n);
//数组名做实参
selectionSort(a,10);
```
- 一些说明
  - 函数实参是数组名时，形参对应会是数组名`int a[]`或者`数组指针`，且要保证类型一致;
  - **数组名代表数组首元素的地址**，我们说的**数组地址也就是数组首元素的地址**，因此传递数组名时，传递的就是地址。
  - 形参的数组名/指针变量是用来接受数组首元素地址的，因此**实参数组和形参数组占同一段内存单元**，两者是完全等价的。设计程序时应利用这一点改变参数数组的值。
  - 形参数组声明时，`[]`内的数值会被忽略，因此写不写都不重要。
  - **C++其实是把形参数组名当作一个指针来处理的。**
- 如果是传递二维数组
```c++
//声明二维数组形参
int max(int array[][4]);//第2维必须填充准确数字
//传递二维数组实参
max(a)
```
## 字符数组
- 用于存放字符数据的数组是字符数组，字符数组中的一个元素存放一个字符。
- 字符数组具有数组的共同属性。
### 字符串
- 对每一个字符串常量，系统会自动在所有字符后面添加一个`\0`(空字符)作为结束符，然后把它存在字符数组中。
  - `\0`就是字符串的结束符，ASCII码为0。
  - 遇到字符`\0`就表示字符串到此结束，由它以前的字符构成字符串。
- 字符数组用于存放字符串时，必须要保证数组长度大于字符串长度。
  - 程序往往依靠检测`\0`结束字符来判断字符串是否结束，而不是根据数组长度决定。
  - cout<<字符串时，也是通过检测`\0`判断是否结束输出。
- 字符串最重要的是有效长度，而不是数组长度
### 定义和初始化
- 初始化方法
  - 按逐个字符对字符数组进行赋值。
	- 如果初值个数大于数组长度，则按照语法错误处理;
	- 如果初值个数小于数组长度，则剩余元素被赋值空字符`\0`;
	- 如果初值个数等于数组长度，定义时可以省略数组长度，系统自动确定数组长度。
  - 用字符串常量初始化字符数组
	- 应保证数组长度大于字符串长度;
	- 数组长度等于字符串长度时，可以省略数组长度，如下：
```c++
//以下数组长度被系统分配为11，由于含`\0`
char str[]={"I am happy"};
//或省去花括号
char str[]="I am happy";
```
- 赋值
  - **只能对字符数组的元素赋值**，而不能用赋值语句对整个数组赋值。
### 字符数组的输入和输出
- 字符数组的输入和输出方法
  - 逐个字符输入输出
  - 将整个字符串用数组名一次输入或输出，示例如下
	- 字符串输入时，系统会自动在最后加上结束符`\0`;
	- 输出的字符不包括结束符，通过判断`\0`来结束输出;	
	- `cin`向数组名输入时，需要保证输入长度小于定义的数组长度，否则：系统不报错，但是会将多余的字符继续向后存储，于是可能会破坏其他数据。
  - C++提供cin流中的getline函数，用于读入一行字符串或一行字符中的前若干个字符。

```c++
//按字符数组名输入输出
char str[20];
cin>>str;
cout<<str;
```
### 字符串处理函数
- 以下所有字符串处理函数**在string或string.h头文件中声明**。
  - 字符串连接函数strcat
	- 原型：`strcat(char[], const char[]);`
	- 功能：将第二个字符数组/字符串中的字符连接到前面字符数组的字符串后面，将结果保存到前面的数组中。
	- `const`表示是字符串常量或者是调用期间不能被修改的字符串数组;
	- 函数返回值是第一个字符数组的地址。
  - 字符串复制函数strcpy
	- 原型：`strcpy(char[],const char[]);`
	- 功能：将第二个字符数组中的字符复制到第一个字符数组中去，将第一个字符数组中的相应字符覆盖;
	- `const`含义同上
	- (1)还可以将一个字符串中的前若干个字符复制到一个字符中去，如`strcpy(str1,str2,2)`将str2中的前2个字符复制到前一个字符数组中，再加上`\0`;
	- (2)上述str1是数组地址常量，不能被赋值。
  - 字符串比较函数strcmp
	- 原型`strcmp(const char[],const char[]);`;
	- 功能：自左向右按ASCII码比较字符串大小，直到出现不同的字符或者碰到`\0`为止。(1)如果字符串1等于字符串2,函数值为0;(2)如果字符串1大于字符串2,函数值为正数;(3)如果字符串1小于字符串2,函数值为负数。
  - 字符串长度函数strlen
	- 原型strlen(const char[]);
	- 功能：返回一个字符串的长度，不包括`\0`在内。
- **注意**:在用`:?`和字符串或者字符数组使用时，必须要保持`:?`后的类型一致，否则编译时出现二义性，因此出错。
## C++专属
- 字符数组存放字符串的做法，是C语言的方法，C++予以保留。
  - 但是字符数组因为不能准确估计大小，所以可能出现数组长度不够，或者超出数组范围以外导致破坏系统正常工作状态的情况。因此字符数组存放字符串实际上并不是理想方法。
- C++提供一种新的数据类型——字符串数据类型(string类型)，相比字符数组更方便和安全。
### 字符串类和字符串变量
- string并不是c++本身的基本类型，它是在C++标准库中声明的一个字符串类。
- 用上述的字符串类可以定义字符串对象，**每一个字符串变量都是string类的一个对象**。
#### 定义
- 字符串变量要先定义再使用，定义字符串要用类名string。
  - 在使用string类定义时需要将<string>头文件包含进来。
  - 字符串变量的定义*是不需要指定长度的*，长度随字符串长度变化。这就使得字符串变量的赋值不用计算字符个数，也不用担心越界。
```c++
string string1;
string string2="China";
```
#### 对string变量的操作
- 对字符串变量的赋值
  - 可以用字符串对字符串变量赋值
  - 也可以用一个字符串变量对另一个字符串变量赋值
  - 可以**单独引用字符串中某一元素并赋值**
```c++
//字符串赋值
sring1 = "china";
//字符串变量赋值
string1 = string2;
//字符串元素赋值
string word="Then";
word[2]='a';
```
- 字符串变量的输入输出
  - 用字符串名字进行输入输出
```c++
cin>>str1;
cout<<str1;
```
- 字符串变量的运算(可以参考python中的字符串处理)
  - string变量只需要用到简单的运算符，而不需要字符串函数。
  - 字符串复制`str1=str2`;
  - 字符串拼接`str1+str2`;
  - 字符串比较采用关系运算符:直接采用`==`、`>`、`<`、`>=`、`<=`、`!=`等关系运算符进行字符串运算,这是因为**string头文件中对这些运算符进行了重载，使之能够对string变量进行操作**。
#### 字符串数组
- 可以用字符串定义字符串数组。
  - 下面定义的每一个元素是一个字符串
  - 对每个字符串元素，长度是可以变化的
  - 字符串数组中的每一个元素的值只包含字符串本身的字符而**不包括`\0`**
```c++
//定义
string name[5];
//定义同时赋值
string name[5]={"hello","my","name","is","Yuci"};
```
- 实际上
  - string变量中每一个元素存储的是字符串的地址/或者叫字符串变量对象的起始地址，因此长度总是一致的(可以用sizeof()查看长度)。
## 其他
- 在void型的类型函数，可以 无return/`return;`/`return void();`。
## 总结
- C++对字符串的处理有两种方法
  (1)利用字符数组的方法，这是C语言采取的方法，一般称为**C-string方法**;
  (2)用string类定义字符串变量，称为**string方法**。
