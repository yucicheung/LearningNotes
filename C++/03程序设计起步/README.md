# 基于过程的程序设计
- 从本章开始，进行基于过程的设计介绍;
## 基本知识
- 基于过程的程序设计反应的是事物在计算机中的实现方式，而不是现实生活中的实现方式。
  - 程序设计者必须指定数据在计算机中的表现形式，以及如何对这些数据进行操作，以及得到预期结果。
  - 需要具体设计出计算机执行的每一个步骤，写出每一条语句，设计语句的执行顺序。
  - 怎样设计步骤来保证它的正确性和具有较高的效率，是**算法**需要解决的问题。
- 程序=算法+数据结构
  - 一个过程化的程序应该包含一下两方面内容：
	- 对数据的描述：指定数据的类型和组织形式，数据结构;
	- 对操作的描述：对数据的操作，即算法。
- 算法的表示：
  - 自然语言
  - 流程图
  - 伪代码(pseudo code)
  - 计算机语言表示，即程序
- 变量在函数之外进行声明，此变量为**全局变量**，有效范围是从该行开始到本程序文件结束;变量在函数内声明，变量是**局部变量**，有效范围从该行开始到函数结束。
- 语句：C++程序中的最小单位，一般是以分号结束`;`
  - 声明语句
  - 执行语句
  - 空语句：特别注意，只含一个分号的语句`;`表示什么都不做
  - 复合语句:`{}`括起来的语句叫复合语句。
## 输入输出
- C++中的赋值是一个运算符，因此可以包含在其他表达式中。
- 输入与输出
  - C语言中的输入和输出是用`scanf`和`printf`函数来实现的，
  - C++中通过调用输入输出流库中的流对象`cin`和`cout`实现的。
	- 流(stream)指的是来自设备或传给设备的一个数据流，cin/cout分表是输入/输出流。
	- <<是流插入运算符，>>是流提取运算符。
	- cin和<<构成cin语句，类似得到cout语句。
- 定义流对象时，一般会在内存中开辟一段缓存区用来暂存输入输出流的数据，当遇到缓冲区满或者遇到cout语句中的`endl`/`\n`/`ends`/`flush`时，将缓存区中所有数据一起输出，并清空缓存区。
- 不能用cin语句把空格字符和回车换行符作为字符输入给字符变量，它们将被跳过。需要输入空格/换行时需要使用getchar()函数。
- 输入输出流中使用**控制符**以特定要求的格式输出。
  - 注意：如果使用了控制符，需要在程序文件的开头加iostream头文件和iomanip头文件。
  - 常用的控制符变成列表如下：
| 控制符 | 作用 |
| --- | --- |
| dec | 设为10进制 |
| hex | 16进制 |
| oct | 8进制 |
| setfill(c) | 设置填充c，c可以是字符常量或变量 |
| setprecision(n) | 设置浮点数精度为n位，小数形式输出时n表示有效数字，在固定小数位数fixed和科学计数scientific形式表示时，n为小数位数 |
| setw(n) | 设置字段宽度为n位 |
| setiosflags(ios::fixed)| 设置浮点数以固定的小数位数显示 |
| setiosflags(ios::scientific) | 设置浮点数以科学计数法显示 |
| setiosflags(ios::left) | 输出数据左对齐 |
| setiosflags(ios::right) | 输出数据右对齐 |
| setiosflags(ios::skipws) | 忽略前导的空格 |
| setiosflags(ios::uppercase) | 以16进制输出时字母大写表示 |
| setiosflags(ios::lowercase) | 16进制输出时字母小写表示 |
| setiosflags(ios::showpos) | 输出正数时给出`+`号 |
  - 给出一个使用示例如下：
	```c++
	cout<<setioflags(ios::scientific)<<setprecision(4)<<a;
	```
- C++保留了C语言中用于输入/输出单个字符的函数`getchar`和`putchar`,C++也保留了C语言中的`scanf`和`printf`函数。
  - **注意**：
	- 在C++中使用上面的函数时必须用`#include<stdio.h>`包含头文件;
	- 在C++中的scanf/printf函数主要是为了兼容C，实际cin/cout是更好用的语句。
  - `putchar`可以用于字符常量，字符变量和ASCII码输出;
  - `getchar`接受单个字符，在不规定类型的情况下，会默认输出整数值;
  - `scanf`使用格式`scanf(格式控制，输出表列)`，如`scanf("%d",&a)`;
  - `printf`，格式是`printf(格式控制，输出表列)`，如`printf("a=%d",a)`。
- 在C++中计算数学公式需要包含头文件`#include <cmath>`。
## 关系运算
- 关系表达式是关系运算符将两个表达式连接起来的式子。
  - 优先级关系：算术运算符>关系运算符>赋值运算符。
  - 关系表达式的值是一个逻辑值，**C/C++中用1表示“真”、0表示“假”**。
- C语言中没有提供专门的逻辑型数据，真/假用1/0表示，但**在C++中增加了逻辑型数据，逻辑性常量只有两个：`true`和`false`**。
  - 逻辑变量需要用关键字`bool`定义，称为布尔变量;
  - 逻辑常量就是两种:`true`和`false`。
  - 在编译系统处理逻辑型数据时，仍然将`false`处理为0，而`true`处理为1,分别在内存中占一个字节，用来存放0或1，因此**逻辑型数据就可以与数值型数据进行算术运算**。
- 逻辑运算符
  - `&&`与
  - `||`或
  - `!`非
- 逻辑量的值为0是假，非0是真。

## 选择结构
- if语句
```c++
//语句的基本结构
if (表达式) 语句1
[else if 语句2]
...
[else if 语句n]
[else 语句n+1]
//语句可以是复合语句
//if语句可以实现嵌套
//每个else一般与最近的且为配对的if配对
//如果if和else数目不一致，可以用{}确定配对关系
```
- 条件运算符`表达式1?表达式2:表达式3`;如果表达式1为真，求解表达式2值且作为整个表达式值，否则表达式3求值且作为整个表达式值。**注意**：语法要求，问号后面可以为空，但是**冒号后不能是空**。
- 多分支选择结构switch语句
  - 每一个case条件必须各不相同;
  - 在没有找到符合的case表达式情况下，会选择执行default后方语句;
  - default和case出现顺序不影响执行结果(即并集之外是default);
  - 但是并不是先执行case才执行default而是按书写顺序执行;
  - `break`用于跳出switch语句;
  - 在进入case后，碰到break之前，会从冒号后顺序执行下去，而不再进行条件判断;
  - 最后一个语句(default/case)后可以不加break;
  - case后可以是复合语句。
```c++
switch(expression)
{
case const_expression1:statement1;
case const_expression2:statement2;
...
case const_expressionn:statementn;
default:statement n+1
}
```
## 循环语句
- while
```c++
while(expression) statement
//可以是复合语句
```
- do-while
```c++
do
	statement
while(expression);
```
- for
  - for的最常用格式是`for(循环变量赋初值;循环条件;循环变量增值)`
  - 上述3个表达式都可以省略，其中循环条件省略表示做无限循环;
  - 循环体也可以是空语句，此时功能可以在表达式中实现。
```c++
for(表达式1;表达式2;表达式3) 语句
//1.先求解表达式1
//2.求解表达式2，为真，则执行for循环体，再执行表达式3
//3.重复上述步骤2
```
- break，除switch语句的跳出外;
  - 跳出循环(当前层级的循环)，执行循环体外语句。
- continue
  - 跳过本次循环的continue以后的语句，进行下一次的循环判断。
